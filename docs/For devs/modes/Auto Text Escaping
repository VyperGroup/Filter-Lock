# Auto Text Escaping - Proposal - Developer Notes

This would allow keywords like "Proxy" and "Ultraviolet" to automatically be escaped helping to prevent the detection of the site's text through injected content scripts or analysis in a network filter. This will be done in the Middleware itself, unless "Filter Detection" is employed, where the rewrites will happen in a SW (the data comes from a tunnel anyways).

In Filters Locks config (config.modes.textEscaping.escapes) you would be able to specify various RegExps and a handler (config.modes.textEscaping.handler). The arguments would be as follows: the RegExp that was matched, the captured text string, and the captured nodes that make up the string. It would be up to the handler to modify the nodes. This means that there would be no return value.

To prevent text detection in extensions, [DOM Access Prevention for filters]() is the ideal option. However, if you are using a Network Filter I recommend using padding escaping and if filters catch on switch to Custom Element escaping.

## Provided handlers

## 1: Custom Element escaping

## 2: Padding escaping

I will provide a default handler which will add a random number (random in the range of min and max which will be the two arguments in the handler) of zero width padding characters (different number each time) for each character.

> ⚠️ This is an easy thing to pick up on, so don't expect it to last for a while

## 3: Escaping through SVG

I will also provide another handler which will wrap links and text inside of an SVG.

> ⚠️ This does not help to prevent against Network Filters
